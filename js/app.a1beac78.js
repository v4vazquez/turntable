(function(t){function e(e){for(var n,o,i=e[0],l=e[1],u=e[2],d=0,v=[];d<i.length;d++)o=i[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&v.push(r[o][0]),r[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);c&&c(e);while(v.length)v.shift()();return a.push.apply(a,u||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],n=!0,i=1;i<s.length;i++){var l=s[i];0!==r[l]&&(n=!1)}n&&(a.splice(e--,1),t=o(o.s=s[0]))}return t}var n={},r={app:0},a=[];function o(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=n,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(s,n,function(e){return t[e]}.bind(null,n));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/turntable/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var c=l;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0091":function(t,e,s){t.exports=s.p+"img/landing-Page.8dc8639e.png"},"0348":function(t,e,s){t.exports=s.p+"img/turntableLogo-v2.1bd1096e.png"},"034b":function(t,e,s){},"2d53":function(t,e,s){},"2dbd":function(t,e,s){"use strict";s("3c2e")},"32c8":function(t,e,s){},"3c2e":function(t,e,s){},"3d14":function(t,e,s){},"420b":function(t,e,s){"use strict";s("32c8")},"522d":function(t,e,s){"use strict";s("d2df")},"56d7":function(t,e,s){"use strict";s.r(e);var n=s("2b0e"),r=function(){var t=this,e=t._self._c;return e("div",{style:`background-image:url(${s("0091")})`,attrs:{id:"everything"}},[e("div",{attrs:{id:"app"}},[e("div",{staticClass:"logo",attrs:{id:"nav"}},[e("router-link",{attrs:{to:{name:"login"}}},[e("img",{staticClass:"turntable-logo",attrs:{src:s("0348"),alt:"turntable logo"}})])],1),e("router-view")],1),e("Footer")],1)},a=[],o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"footer"},[t._m(0),e("div",{staticClass:"linkedin-container",on:{mouseover:function(e){t.showIcons=!0},mouseleave:function(e){t.showIcons=!1}}},[t.showIcons?e("div",{staticClass:"linkedin-content"},[e("div",{staticClass:"linkedin-icons"},t._l(t.linkedinProfiles,(function(s,n){return e("a",{key:n,staticClass:"icon icon--linkedin",attrs:{href:s}},[t._v('icon--linkedin"> '),e("i",{staticClass:"fab fa-linkedin"})])})),0)]):t._e()])])},i=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"footer-content"},[e("div",{staticClass:"icons"},[e("a",{staticClass:"icon icon--linkedin",attrs:{href:"https://www.linkedin.com/in/v4vazquez/"}},[e("i",{staticClass:"fab fa-linkedin"})]),e("a",{staticClass:"icon icon--github",attrs:{href:"https://github.com/v4vazquez"}},[e("i",{staticClass:"fab fa-github"})])])])}],l={data(){return{showIcons:!1,linkedinProfiles:["https://www.linkedin.com/in/v4vazquez/","https://www.linkedin.com/in/v4vazquez/","https://www.linkedin.com/in/v4vazquez/"]}}},u=l,c=(s("af4c"),s("2877")),d=Object(c["a"])(u,o,i,!1,null,"74b6a62a",null),v=d.exports,p={name:"App",components:{Footer:v}},m=p,g=(s("57c5"),Object(c["a"])(m,r,a,!1,null,null,null)),h=g.exports,f=s("8c4f"),_=function(){var t=this;t._self._c;return t._m(0)},b=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"home"},[e("h1",[t._v("Home")]),e("p",[t._v("You must be authenticated to see this")])])}],y={name:"home"},w=y,C=Object(c["a"])(w,_,b,!1,null,null,null),E=C.exports,S=function(){var t=this,e=t._self._c;return e("div",{staticClass:"centered-images"},[e("div",{staticClass:"form-container"},[e("div",{staticClass:"text-center",attrs:{id:"login"}},[e("form",{staticClass:"form-signin",on:{submit:function(e){return e.preventDefault(),t.login.apply(null,arguments)}}},[e("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("Please Sign In")]),t.invalidCredentials?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v("Invalid username and password!")]):t._e(),this.$route.query.registration?e("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[t._v("Thank you for registering, please sign in.")]):t._e(),e("div",{staticClass:"data-fields"},[e("label",{staticClass:"sr-only",attrs:{for:"username"}},[t._v("Username")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text",id:"username",placeholder:"Username",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),e("label",{staticClass:"sr-only",attrs:{for:"password"}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}})]),e("router-link",{attrs:{to:{name:"register"}}},[t._v("Need an account?")]),e("button",{attrs:{type:"submit"}},[t._v("Sign in")])],1)]),e("div",{staticClass:"event-signin"},[e("form",[e("label",{attrs:{for:"eventID"}},[t._v("Event number: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.idNumber,expression:"idNumber"}],attrs:{type:"number",id:"guestLogin",placeholder:"Your party ID"},domProps:{value:t.idNumber},on:{input:function(e){e.target.composing||(t.idNumber=e.target.value)}}}),e("button",{attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.goToPage.apply(null,arguments)}}},[t._v(" Go to event")])])])])])},k=[],P=s("bc3a"),I=s.n(P),x={login(t){return I.a.post("/login",t)},register(t){return I.a.post("/register",t)}},D={getEvent(t){return I.a.get("/events/"+t)},getAllEvents(){return I.a.get("/events/all-events")},createEvent(t,e){return I.a.post("/events/newEvent/"+e,t)},updateEvent(t,e){return I.a.put("/events/update-event/"+t,e)},deleteEvent(t){return I.a.delete("/events/delete-event/"+t)},getEventIdFromDj(){return I.a.get("events/eventId")},getDjs(){return I.a.get("users/djs")}},N={name:"login",components:{},data(){return{showLoader:!0,idNumber:"",user:{username:"",password:""},invalidCredentials:!1}},methods:{login(){x.login(this.user).then(t=>{200==t.status&&(this.$store.commit("SET_AUTH_TOKEN",t.data.token),this.$store.commit("SET_USER",t.data.user),"ROLE_DJ"===t.data.user.role?this.$router.push("/djEvents"):"ROLE_HOST"===t.data.user.role&&this.$router.push("/hostEvents"))}).catch(t=>{const e=t.response;401===e.status&&(this.invalidCredentials=!0)})},goToPage(){D.getEvent(this.idNumber).then(t=>{console.log("molly"),200===t.status&&0!==t.data.length&&this.$router.push({path:"/events/"+this.idNumber})})}}},$=N,O=(s("68a2"),Object(c["a"])($,S,k,!1,null,null,null)),T=O.exports,j=function(){var t=this,e=t._self._c;return e("loader-layout",[e("h1",[t._v("See Ya Wouldn't Wanna Be Ya")])])},L=[],A=function(){var t=this,e=t._self._c;return e("div",[e("header"),e("main",[!1===t.showLoader?t._t("default"):t._e(),!0===t.showLoader?e("loading-gif"):t._e()],2),e("footer",[e("div",{staticClass:"logout-link"},[""!=t.$store.state.token?e("router-link",{attrs:{to:{name:"logout"}}},[t._v(" Logout ")]):t._e()],1)])])},q=[],U=function(){var t=this,e=t._self._c;return t.isLoading?e("div",{staticClass:"loading"},[t._m(0)]):t._e()},J=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"spinner"},[e("div",{staticClass:"spinner1"})])}],z={data(){return{isLoading:!0}}},H=z,M=(s("9dd0"),Object(c["a"])(H,U,J,!1,null,null,null)),R=M.exports,B={components:{LoadingGif:R},data(){return{showLoader:!0}},mounted:function(){window.setTimeout(()=>{this.showLoader=!1},1e3)}},F=B,G=(s("d683"),Object(c["a"])(F,A,q,!1,null,null,null)),W=G.exports,K={components:{LoaderLayout:W},created(){this.$store.commit("LOGOUT"),this.$router.push("/login")}},Q=K,Y=Object(c["a"])(Q,j,L,!1,null,null,null),V=Y.exports,X=function(){var t=this,e=t._self._c;return e("loader-layout",[e("div",{staticClass:"container"},[e("div",{staticClass:"text-center",attrs:{id:"register"}},[e("div",{staticClass:"about-section"},[e("div",{staticClass:"about-text"},[e("h2",[t._v("About")]),e("p",[t._v(" Turntable allows users to attend parties through a code provided by the party host. It gives guests the ability to recommend songs for a shared playlist and vote on the existing ones. The designated DJ will then connect and incorporate those chosen songs into the party playlist. Whether you're in the mood for some classic hits or the latest chart-topping tracks, Turntable is the perfect platform for music lovers to come together and make the party come alive. ")])])]),e("form",{staticClass:"form-register",on:{submit:function(e){return e.preventDefault(),t.register.apply(null,arguments)}}},[e("h1",{staticClass:"h3 mb-3 font-weight-normal"},[t._v("Create Account")]),t.registrationErrors?e("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[t._v(" "+t._s(t.registrationErrorMsg)+" ")]):t._e(),e("div",{staticClass:"data-fields"},[e("label",{staticClass:"sr-only",attrs:{for:"username"}},[t._v("Username")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],staticClass:"form-control",attrs:{type:"text",id:"username",placeholder:"Username",required:"",autofocus:""},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),e("label",{staticClass:"sr-only",attrs:{for:"password"}},[t._v("Password")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],staticClass:"form-control",attrs:{type:"password",id:"password",placeholder:"Password",required:""},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.user.confirmPassword,expression:"user.confirmPassword"}],staticClass:"form-control",attrs:{type:"password",id:"confirmPassword",placeholder:"Confirm Password",required:""},domProps:{value:t.user.confirmPassword},on:{input:function(e){e.target.composing||t.$set(t.user,"confirmPassword",e.target.value)}}}),e("select",{directives:[{name:"model",rawName:"v-model",value:t.user.role,expression:"user.role"}],attrs:{required:""},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.user,"role",e.target.multiple?s:s[0])}}},[e("option",{attrs:{value:"",disabled:"",selected:""}},[t._v("Select an Option")]),e("option",{attrs:{value:"DJ"}},[t._v("DJ")]),e("option",{attrs:{value:"Host"}},[t._v("Host")])])]),e("router-link",{attrs:{to:{name:"login"}}},[t._v("Have an account?")]),e("button",{staticClass:"btn btn-lg btn-primary btn-block",attrs:{type:"submit"}},[t._v(" Create Account ")])],1)])])])},Z=[],tt={components:{LoaderLayout:W},name:"register",data(){return{user:{username:"",password:"",confirmPassword:"",role:""},registrationErrors:!1,registrationErrorMsg:"There were problems registering this user."}},methods:{register(){this.user.password!=this.user.confirmPassword?(this.registrationErrors=!0,this.registrationErrorMsg="Password & Confirm Password do not match."):x.register(this.user).then(t=>{201==t.status&&this.$router.push({path:"/login",query:{registration:"success"}})}).catch(t=>{const e=t.response;this.registrationErrors=!0,400===e.status&&(this.registrationErrorMsg="Bad Request: Validation Errors")})},clearErrors(){this.registrationErrors=!1,this.registrationErrorMsg="There were problems registering this user."}}},et=tt,st=(s("2dbd"),Object(c["a"])(et,X,Z,!1,null,"4e3b3cdc",null)),nt=st.exports,rt=s("2f62");n["a"].use(rt["a"]);const at=localStorage.getItem("token"),ot=JSON.parse(localStorage.getItem("user"));null!=at&&(I.a.defaults.headers.common["Authorization"]="Bearer "+at);var it=new rt["a"].Store({state:{events:[],token:at||"",user:ot||{},currentTrack:"",songSearchResult:{}},mutations:{SET_AUTH_TOKEN(t,e){t.token=e,localStorage.setItem("token",e),I.a.defaults.headers.common["Authorization"]="Bearer "+e},SET_USER(t,e){t.user=e,localStorage.setItem("user",JSON.stringify(e))},LOGOUT(t){localStorage.removeItem("token"),localStorage.removeItem("user"),t.token="",t.user={},I.a.defaults.headers.common={}},CHANGE_TRACK(t,e){t.currentTrack=e}}}),lt=function(){var t=this,e=t._self._c;return e("loader-layout",[e("div",{staticClass:"container"},[e("div",{staticClass:"playlist"},[e("ul",t._l(t.songs,(function(s){return e("li",{key:s.id},[e("img",{staticClass:"albumImage",attrs:{src:s.picture,alt:"album cover"}}),e("div",{staticClass:"song-details"},[e("p",[t._v(t._s(s.name))]),e("p",[t._v(t._s(s.artist))])])])})),0)]),e("div",{staticClass:"song-search"},[e("div",[e("h2",[t._v(" "+t._s(t.currentEventName)+" ")]),e("h3",[t._v(t._s(t.currentEventDescription))])]),e("div",{staticClass:"search-full-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchQuery,expression:"searchQuery"}],attrs:{type:"text"},domProps:{value:t.searchQuery},on:{input:function(e){e.target.composing||(t.searchQuery=e.target.value)}}}),e("button",{on:{click:t.searchSong}},[t._v("Search")]),t.showControls?e("div",{staticClass:"dont-show"},[e("p",[t._v("Song Name: "+t._s(t.name))]),e("p",[t._v("Song Artist: "+t._s(t.artist))]),e("img",{attrs:{src:t.picture,alt:"Song picture",id:"searchImage"}}),e("button",{on:{click:t.addSong}},[t._v("Add Song")])]):t._e()])]),e("div",{staticClass:"suggested"},[e("ul",t._l(t.suggestedSongs,(function(s){return e("li",{key:s.id},[e("img",{staticClass:"albumImage",attrs:{src:s.picture,alt:"album cover"}}),e("div",{staticClass:"song-details"},[e("p",[t._v(t._s(s.name))]),e("p",[t._v(t._s(s.artist))])]),e("p",[t._v("Likes: "+t._s(s.likes))]),e("button",{on:{click:function(e){return t.addLike(s.songId)}}},[t._v("Like")])])})),0)])])])},ut=[],ct={getPlaylist(t){return I.a.get("songs/playlist/"+t)},getSuggested(t){return I.a.get("songs/suggested/"+t)},addSongToSuggested(t,e){return I.a.post("songs/addsong/suggested/"+e,t)},addSongToPlaylist(t,e){return I.a.put(`songs/addsong/${t}/${e}`)},deleteSuggestedSong(t,e){return I.a.delete(`songs/deleteSong/suggested/${t}/${e}`)},deletePlaylistSong(t,e){return I.a.delete(`songs/deleteSong/playlist/${t}/${e}`)},searchSong(t){return I.a.get("spotify-search/"+t)},incrementLikes(t,e){return I.a.put(`songs/likes/${t}/${e}/increment`)},getLikes(t,e){return I.a.get(`songs/likes/${t}/${e}`)}},dt={computed:{showControls(){return""!=this.songId}},components:{LoaderLayout:W},data(){return{songs:[],suggestedSongs:[],currentEventId:-1,searchQuery:"",songId:"",name:"",artist:"",picture:"",currentEventName:"",currentEventDescription:""}},methods:{getPlaylist(){ct.getPlaylist(this.$route.params.id).then(t=>{this.songs=t.data})},getSuggested(){ct.getSuggested(this.$route.params.id).then(t=>{this.suggestedSongs=t.data})},searchSong(){ct.searchSong(this.searchQuery).then(t=>{this.songId=t.data.songId,this.name=t.data.name,this.artist=t.data.artist,this.picture=t.data.picture})},addSong(){const t=this.$route.params.id,e={songId:this.songId,name:this.name,artist:this.artist,picture:this.picture};ct.addSongToSuggested(e,t).then(()=>{}),this.getSuggested(),this.getPlaylist()},addLike(t){ct.incrementLikes(this.$route.params.id,t),this.getSuggested(),this.getPlaylist()}},created(){this.getPlaylist(),this.getSuggested(),D.getEvent(this.$route.params.id).then(t=>{this.currentEventName=t.data.eventName,this.currentEventDescription=t.data.description}),this.interval=setInterval(()=>{this.getPlaylist(),this.getSuggested()},500)}},vt=dt,pt=(s("420b"),Object(c["a"])(vt,lt,ut,!1,null,"f64075aa",null)),mt=pt.exports,gt=function(){var t=this,e=t._self._c;return e("loader-layout",[e("div",{staticClass:"container"},[e("div",{staticClass:"user-avatar"},[e("p",[t._v("Bring on the beats, "+t._s(t.appUser.username)+"!")])]),e("playlist-component",{staticClass:"left"}),e("spotify-embed",{staticClass:"middle"}),e("suggested-component",{staticClass:"right"})],1)])},ht=[],ft=function(){var t=this,e=t._self._c;return e("div",{staticClass:"dj-selects"},[e("ul",t._l(t.songs,(function(s){return e("li",{key:s.id,staticClass:"song-list"},[e("img",{staticClass:"albumImage",attrs:{src:s.picture,alt:"album cover"}}),e("div",{staticClass:"song-details"},[e("p",[t._v(t._s(s.name))]),e("p",[t._v(t._s(s.artist))])]),e("button",{on:{click:function(e){return t.playSong(s.songId)}}},[t._v("Select")]),e("button",{on:{click:function(e){return t.deleteSong(s.songId)}}},[t._v("Delete")])])})),0)])},_t=[],bt={data(){return{songs:[],currentEventId:-1}},methods:{playSong(t){this.$store.commit("CHANGE_TRACK",t)},deleteSong(t){ct.deletePlaylistSong(this.currentEventId,t),this.getPlaylist()},getPlaylist(){D.getEventIdFromDj().then(t=>{this.currentEventId=t.data,ct.getPlaylist(this.currentEventId).then(t=>{this.songs=t.data}).catch(t=>{console.error(t)})})}},created(){this.getPlaylist(),this.interval=setInterval(()=>{this.getPlaylist()},500)}},yt=bt,wt=(s("5e3f"),Object(c["a"])(yt,ft,_t,!1,null,"337417b8",null)),Ct=wt.exports,Et=function(){var t=this,e=t._self._c;return e("div",[e("iframe",{staticClass:"spot",staticStyle:{"border-radius":"50px"},attrs:{src:t.trackUrl,width:"100%",height:"352",frameBorder:"0",allowfullscreen:"",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in- picture",loading:"lazy"}})])},St=[],kt={data(){return{trackUri:"4cOdK2wGLETKBW3PvgPWqT"}},computed:{trackUrl(){return`https://open.spotify.com/embed/track/${this.$store.state.currentTrack}?utm_source=generator&theme=0`}}},Pt=kt,It=Object(c["a"])(Pt,Et,St,!1,null,null,null),xt=It.exports,Dt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"guest-suggestions"},[e("ul",t._l(t.songs,(function(s){return e("li",{key:s.id},[e("img",{staticClass:"albumImage",attrs:{src:s.picture,alt:"album cover"}}),e("div",{staticClass:"song-details"},[e("p",[t._v(t._s(s.name))]),e("p",[t._v(t._s(s.artist))])]),e("p",[t._v("Likes "+t._s(s.likes))]),e("button",{on:{click:function(e){return t.addSongToPlaylist(s.songId)}}},[t._v("Add Song")]),e("button",{on:{click:function(e){return t.deleteSong(s.songId)}}},[t._v("Delete")])])})),0)])},Nt=[],$t={data(){return{songs:[],currentEventId:-1}},created(){this.getSuggested()},methods:{addSongToPlaylist(t){ct.addSongToPlaylist(this.currentEventId,t).then(t=>{200==t.status&&this.getSuggested()})},deleteSong(t){ct.deleteSuggestedSong(this.currentEventId,t),this.getSuggested()},getSuggested(){D.getEventIdFromDj().then(t=>{this.currentEventId=t.data,ct.getSuggested(this.currentEventId).then(t=>{this.songs=t.data}).catch(t=>{console.error(t)})})}}},Ot=$t,Tt=(s("b8e7"),Object(c["a"])(Ot,Dt,Nt,!1,null,"51750b99",null)),jt=Tt.exports,Lt={data(){return{eventId:-1,appUser:""}},components:{PlaylistComponent:Ct,SpotifyEmbed:xt,SuggestedComponent:jt},created(){D.getEventIdFromDj().then(t=>this.eventId=t.data)},mounted:function(){const t=JSON.parse(window.localStorage.getItem("user"));this.appUser=t}},At=Lt,qt=(s("a109"),Object(c["a"])(At,gt,ht,!1,null,null,null)),Ut=qt.exports,Jt=function(){var t=this,e=t._self._c;return e("loader-layout",[e("div",[e("form",{staticClass:"edit-event-form"},[e("h3",[t._v(" Edit Event")]),e("label",{attrs:{for:"eventTitle"}},[t._v(" Event title: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.event.eventName,expression:"event.eventName"}],attrs:{type:"text",id:"eventTitle"},domProps:{value:t.event.eventName},on:{input:function(e){e.target.composing||t.$set(t.event,"eventName",e.target.value)}}}),e("label",{attrs:{for:"eventDescription"}},[t._v("Event Description:")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.event.description,expression:"event.description"}],attrs:{id:"eventDescription"},domProps:{value:t.event.description},on:{input:function(e){e.target.composing||t.$set(t.event,"description",e.target.value)}}}),e("div",{staticClass:"date-picker"},[e("input",{attrs:{type:"date"}})]),e("div",{staticClass:"buttons"},[e("button",{on:{click:function(e){return e.preventDefault(),t.saveEvent.apply(null,arguments)}}},[t._v("Save")])])])])])},zt=[],Ht={components:{LoaderLayout:W},data(){return{event:{description:"",eventName:""},eventNumber:-1}},methods:{saveEvent(){D.updateEvent(this.eventNumber,this.event).then(t=>{200===t.status&&this.$router.push({name:"hostEvents"})})}},created(){this.eventNumber=this.$route.params.id}},Mt=Ht,Rt=(s("cc6e"),Object(c["a"])(Mt,Jt,zt,!1,null,null,null)),Bt=Rt.exports,Ft=function(){var t=this,e=t._self._c;return e("loader-layout",[e("div",[e("div",{staticClass:"user-avatar"},[e("div",{staticClass:"user-avatar-image"}),e("p",[t._v(" Welcome to the party, "+t._s(t.appUser.username)+"!")])]),e("form",{staticClass:"edit-event-form"},[e("h1",[t._v(" Lets make a party!")]),e("br"),e("label",{attrs:{for:"eventTitle"}},[t._v(" The name of your party: ")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.event.eventName,expression:"event.eventName"}],attrs:{type:"text",placeholder:"Ex: My 25th birthday party!!"},domProps:{value:t.event.eventName},on:{input:function(e){e.target.composing||t.$set(t.event,"eventName",e.target.value)}}}),e("label",{attrs:{for:"eventDescription"}},[t._v("Event Description:")]),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.event.description,expression:"event.description"}],attrs:{placeholder:"Celebrating my 25th birthday party! Lets dance! Electric, pop hits, pick stuff we can sing too!"},domProps:{value:t.event.description},on:{input:function(e){e.target.composing||t.$set(t.event,"description",e.target.value)}}}),e("div",{staticClass:"date-picker"},[e("label",{attrs:{for:"eventDate"}},[t._v("Select Event Date:")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedDate,expression:"selectedDate"}],attrs:{type:"date",id:"eventDate"},domProps:{value:t.selectedDate},on:{input:function(e){e.target.composing||(t.selectedDate=e.target.value)}}})]),e("label",{attrs:{for:"eventDropdown"}},[t._v("Select a Dj:")]),e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedDJ,expression:"selectedDJ"}],attrs:{id:"dropdown"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedDJ=e.target.multiple?s:s[0]}}},[e("option",{attrs:{disabled:"",value:""}},[t._v("Select a DJ")]),t._l(t.djs,(function(s){return e("option",{key:s,domProps:{value:s.id}},[t._v(t._s(s.username))])}))],2),e("br"),e("button",{attrs:{id:"button"},on:{click:function(e){return e.preventDefault(),t.saveEvent.apply(null,arguments)}}},[t._v("Save")])]),e("div")])])},Gt=[],Wt={components:{},data(){return{event:{description:"",eventName:""},selectedDJ:-1,selectedDate:"",djs:[],appUser:""}},created(){D.getDjs().then(t=>{this.djs=t.data})},mounted:function(){const t=JSON.parse(window.localStorage.getItem("user"));this.appUser=t},methods:{saveEvent(){const t=`${this.selectedDate} ${this.selectedTime}`;this.event.eventDateTime=t,D.createEvent(this.event,this.selectedDJ).then(t=>{201==t.status&&this.$router.push("/hostEvents")}).catch(t=>{console.error("error saving event",t),this.error="An error occurred while saving the event"})},clearForm(){this.eventTitle="",this.eventDescription=""}}},Kt=Wt,Qt=(s("f4b1"),Object(c["a"])(Kt,Ft,Gt,!1,null,null,null)),Yt=Qt.exports,Vt=function(){var t=this,e=t._self._c;return e("host-events-component")},Xt=[],Zt=function(){var t=this,e=t._self._c;return e("loader-layout",[e("div",[e("div",{staticClass:"user-avatar"},[e("div",{staticClass:"user-avatar-image"}),e("p",[t._v("Welcome to the party, "+t._s(t.appUser.username)+"!")])]),e("div",{staticClass:"upcoming-events"},t._l(t.events,(function(s){return e("ul",{key:s.id},[e("div",{staticClass:"eventDiv"},[e("li",{staticClass:"event-items-list"},[t._v(t._s(s.eventName))]),e("button",{staticClass:"add-edit",on:{click:function(e){return e.preventDefault(),t.editEvent(s.eventId)}}},[t._v("edit")]),e("button",{staticClass:"add-edit",on:{click:function(e){return e.preventDefault(),t.removeEvent(s.eventId)}}},[t._v(" delete ")])])])})),0),e("div",{staticClass:"add-party"},[e("button",{attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.addEvent.apply(null,arguments)}}},[t._v(" Add a party! ")])])])])},te=[],ee={components:{LoaderLayout:W},name:"host-events-component",data(){return{events:[],appUser:""}},created(){this.populateEvents(),this.isLoading=!1},mounted:function(){const t=JSON.parse(window.localStorage.getItem("user"));this.appUser=t},methods:{editEvent(t){this.$router.push({name:"editEvent",params:{id:t}})},addEvent(){this.$router.push({name:"addEvent"})},removeEvent(t){D.deleteEvent(t).then(t=>{200===t.status&&this.populateEvents()}).catch(t=>{404===t.response.status?this.$router.push("/404"):console.error(t)})},populateEvents(){D.getAllEvents().then(t=>{this.events=t.data})}}},se=ee,ne=(s("522d"),Object(c["a"])(se,Zt,te,!1,null,"e6f00264",null)),re=ne.exports,ae={name:"hostEvents",components:{HostEventsComponent:re}},oe=ae,ie=Object(c["a"])(oe,Vt,Xt,!1,null,"1d1d100a",null),le=ie.exports;n["a"].use(f["a"]);const ue=new f["a"]({mode:"history",base:"/turntable/",routes:[{path:"/",name:"home",component:E,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:T,meta:{requiresAuth:!1}},{path:"/logout",name:"logout",component:V,meta:{requiresAuth:!1}},{path:"/register",name:"register",component:nt,meta:{requiresAuth:!1}},{path:"/hostEvents",name:"hostEvents",component:le,meta:{requiresAuth:!1}},{path:"/events/:id",name:"party",component:mt,meta:{requiresAuth:!1}},{path:"/events/editEvent/:id",name:"editEvent",component:Bt,meta:{requiresAuth:!1}},{path:"/djEvents",name:"djEvents",component:Ut,meta:{requiresAuth:!0}},{path:"/addEvent",name:"addEvent",component:Yt}]});ue.beforeEach((t,e,s)=>{const n=t.matched.some(t=>t.meta.requiresAuth);n&&""===it.state.token?s("/login"):s()});var ce=ue;s("034b"),n["a"].config.productionTip=!1,I.a.defaults.baseURL="https://turntable-rail-production.up.railway.app",new n["a"]({router:ce,store:it,render:t=>t(h)}).$mount("#app")},"57c5":function(t,e,s){"use strict";s("78ed")},"5a89":function(t,e,s){},"5e3f":function(t,e,s){"use strict";s("8014")},"68a2":function(t,e,s){"use strict";s("d862")},"6fc8":function(t,e,s){},7295:function(t,e,s){},"78ed":function(t,e,s){},8014:function(t,e,s){},"9dd0":function(t,e,s){"use strict";s("3d14")},a109:function(t,e,s){"use strict";s("d145")},af4c:function(t,e,s){"use strict";s("5a89")},b8e7:function(t,e,s){"use strict";s("6fc8")},cc6e:function(t,e,s){"use strict";s("7295")},d145:function(t,e,s){},d2df:function(t,e,s){},d683:function(t,e,s){"use strict";s("db4d")},d862:function(t,e,s){},db4d:function(t,e,s){},f4b1:function(t,e,s){"use strict";s("2d53")}});
//# sourceMappingURL=app.a1beac78.js.map